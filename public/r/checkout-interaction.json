{
  "name": "checkout-interaction",
  "type": "registry:component",
  "dependencies": [
    "lucide-react",
    "motion",
    "@number-flow/react"
  ],
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "type": "registry:component",
      "content": "\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"motion/react\";\r\nimport { Minus, Plus, ShoppingCart, X, CreditCard } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Image from \"next/image\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport NumberFlow from \"@number-flow/react\";\r\n\r\ninterface Product {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    category: string;\r\n    image: string;\r\n    color: string;\r\n}\r\n\r\ninterface CartItem extends Product {\r\n    quantity: number;\r\n}\r\n\r\ninterface CheckoutInteractionProps {\r\n    products?: Product[];\r\n}\r\n\r\nconst defaultProducts: Product[] = [\r\n    {\r\n        id: \"1\",\r\n        name: \"Air Max 90\",\r\n        price: 129.99,\r\n        category: \"Running\",\r\n        image: \"https://ferf1mheo22r9ira.public.blob.vercel-storage.com/shoes-d2GWFGnVlkkUneRD3x2xDbUVHO1qMp\",\r\n        color: \"Black/White\",\r\n    },\r\n    {\r\n        id: \"2\",\r\n        name: \"Ultra Boost\",\r\n        price: 179.99,\r\n        category: \"Performance\",\r\n        image: \"https://ferf1mheo22r9ira.public.blob.vercel-storage.com/shoes-d2GWFGnVlkkUneRD3x2xDbUVHO1qMp\",\r\n        color: \"Grey/Blue\",\r\n    },\r\n    {\r\n        id: \"3\",\r\n        name: \"Classic Trainer\",\r\n        price: 89.99,\r\n        category: \"Casual\",\r\n        image: \"https://ferf1mheo22r9ira.public.blob.vercel-storage.com/shoes-d2GWFGnVlkkUneRD3x2xDbUVHO1qMp\",\r\n        color: \"White/Red\",\r\n    },\r\n];\r\n\r\nexport default function CheckoutInteraction({\r\n    products = defaultProducts,\r\n}: CheckoutInteractionProps) {\r\n    const [cart, setCart] = useState<CartItem[]>([]);\r\n\r\n    const addToCart = (product: Product) => {\r\n        setCart((currentCart) => {\r\n            const existingItem = currentCart.find(\r\n                (item) => item.id === product.id\r\n            );\r\n            if (existingItem) {\r\n                return currentCart.map((item) =>\r\n                    item.id === product.id\r\n                        ? { ...item, quantity: item.quantity + 1 }\r\n                        : item\r\n                );\r\n            }\r\n            return [...currentCart, { ...product, quantity: 1 }];\r\n        });\r\n    };\r\n\r\n    const removeFromCart = (productId: string) => {\r\n        setCart((currentCart) =>\r\n            currentCart.filter((item) => item.id !== productId)\r\n        );\r\n    };\r\n\r\n    const updateQuantity = (productId: string, delta: number) => {\r\n        setCart((currentCart) =>\r\n            currentCart.map((item) => {\r\n                if (item.id === productId) {\r\n                    const newQuantity = item.quantity + delta;\r\n                    return newQuantity > 0\r\n                        ? { ...item, quantity: newQuantity }\r\n                        : item;\r\n                }\r\n                return item;\r\n            })\r\n        );\r\n    };\r\n\r\n    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);\r\n    const totalPrice = cart.reduce(\r\n        (sum, item) => sum + item.price * item.quantity,\r\n        0\r\n    );\r\n\r\n    return (\r\n        <div className=\"w-full max-w-4xl mx-auto\">\r\n            <div className=\"flex gap-6\">\r\n                {/* Products List with shoe images */}\r\n                <div className=\"flex-1 space-y-3\">\r\n                    {products.map((product) => (\r\n                        <motion.div\r\n                            key={product.id}\r\n                            initial={{ opacity: 0, y: 10 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            transition={{ duration: 0.2 }}\r\n                            className={cn(\r\n                                \"group\",\r\n                                \"p-4 rounded-xl\",\r\n                                \"bg-white dark:bg-zinc-900\",\r\n                                \"border border-zinc-200 dark:border-zinc-800\",\r\n                                \"hover:border-zinc-300 dark:hover:border-zinc-700\",\r\n                                \"transition-all duration-200\"\r\n                            )}\r\n                        >\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div\r\n                                        className={cn(\r\n                                            \"relative w-12 h-12 rounded-lg overflow-hidden\",\r\n                                            \"bg-zinc-100 dark:bg-zinc-800\",\r\n                                            \"transition-colors duration-200\",\r\n                                            \"group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700\"\r\n                                        )}\r\n                                    >\r\n                                        <Image\r\n                                            src={product.image}\r\n                                            alt={product.name}\r\n                                            fill\r\n                                            className=\"object-cover\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <h3 className=\"text-sm font-medium text-zinc-900 dark:text-zinc-100\">\r\n                                                {product.name}\r\n                                            </h3>\r\n                                            <span className=\"px-2 py-0.5 text-xs rounded-full bg-zinc-100 dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400\">\r\n                                                {product.category}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 text-sm text-zinc-500 dark:text-zinc-400\">\r\n                                            <span>${product.price}</span>\r\n                                            <span>â€¢</span>\r\n                                            <span>{product.color}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"outline\"\r\n                                    onClick={() => addToCart(product)}\r\n                                    className=\"gap-1.5\"\r\n                                >\r\n                                    <Plus className=\"w-3.5 h-3.5\" />\r\n                                    Add\r\n                                </Button>\r\n                            </div>\r\n                        </motion.div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Cart with increased height */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, x: 20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    className={cn(\r\n                        \"w-80 flex flex-col\",\r\n                        \"p-4 rounded-xl\",\r\n                        \"bg-white dark:bg-zinc-900\",\r\n                        \"border border-zinc-200 dark:border-zinc-800\",\r\n                        \"sticky top-4\",\r\n                        \"max-h-[32rem]\" // Increased from 24rem to 32rem\r\n                    )}\r\n                >\r\n                    {/* Cart Header */}\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                        <ShoppingCart className=\"w-4 h-4 text-zinc-500\" />\r\n                        <h2 className=\"text-sm font-medium text-zinc-900 dark:text-zinc-100\">\r\n                            Cart ({totalItems})\r\n                        </h2>\r\n                    </div>\r\n\r\n                    {/* Cart Items */}\r\n                    <motion.div\r\n                        className={cn(\r\n                            \"flex-1 overflow-y-auto\",\r\n                            \"min-h-0\",\r\n                            \"-mx-4 px-4\",\r\n                            \"space-y-3\"\r\n                        )}\r\n                    >\r\n                        <AnimatePresence initial={false} mode=\"popLayout\">\r\n                            {cart.map((item) => (\r\n                                <motion.div\r\n                                    key={item.id}\r\n                                    layout\r\n                                    initial={{ opacity: 0, scale: 0.96 }}\r\n                                    animate={{ opacity: 1, scale: 1 }}\r\n                                    exit={{ opacity: 0, scale: 0.96 }}\r\n                                    transition={{\r\n                                        opacity: { duration: 0.2 },\r\n                                        layout: { duration: 0.2 },\r\n                                    }}\r\n                                    className={cn(\r\n                                        \"flex items-center gap-3\",\r\n                                        \"p-2 rounded-lg\",\r\n                                        \"bg-zinc-50 dark:bg-zinc-800/50\",\r\n                                        \"mb-3\" // Added explicit margin bottom\r\n                                    )}\r\n                                >\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                            <span className=\"text-sm font-medium text-zinc-900 dark:text-zinc-100 truncate\">\r\n                                                {item.name}\r\n                                            </span>\r\n                                            <motion.button\r\n                                                whileHover={{ scale: 1.1 }}\r\n                                                whileTap={{ scale: 0.95 }}\r\n                                                onClick={() =>\r\n                                                    removeFromCart(item.id)\r\n                                                }\r\n                                                className=\"p-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700\"\r\n                                            >\r\n                                                <X className=\"w-3 h-3 text-zinc-400\" />\r\n                                            </motion.button>\r\n                                        </div>\r\n                                        <div className=\"flex items-center justify-between mt-1\">\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                <motion.button\r\n                                                    whileHover={{ scale: 1.1 }}\r\n                                                    whileTap={{ scale: 0.95 }}\r\n                                                    onClick={() =>\r\n                                                        updateQuantity(\r\n                                                            item.id,\r\n                                                            -1\r\n                                                        )\r\n                                                    }\r\n                                                    className=\"p-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700\"\r\n                                                >\r\n                                                    <Minus className=\"w-3 h-3\" />\r\n                                                </motion.button>\r\n                                                <motion.span\r\n                                                    layout\r\n                                                    className=\"text-xs text-zinc-600 dark:text-zinc-400 min-w-[16px] inline-block text-center\"\r\n                                                >\r\n                                                    {item.quantity}\r\n                                                </motion.span>\r\n                                                <motion.button\r\n                                                    whileHover={{ scale: 1.1 }}\r\n                                                    whileTap={{ scale: 0.95 }}\r\n                                                    onClick={() =>\r\n                                                        updateQuantity(\r\n                                                            item.id,\r\n                                                            1\r\n                                                        )\r\n                                                    }\r\n                                                    className=\"p-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700\"\r\n                                                >\r\n                                                    <Plus className=\"w-3 h-3\" />\r\n                                                </motion.button>\r\n                                            </div>\r\n                                            <motion.span\r\n                                                layout\r\n                                                className=\"text-xs text-zinc-500 dark:text-zinc-400\"\r\n                                            >\r\n                                                $\r\n                                                {(\r\n                                                    item.price * item.quantity\r\n                                                ).toFixed(2)}\r\n                                            </motion.span>\r\n                                        </div>\r\n                                    </div>\r\n                                </motion.div>\r\n                            ))}\r\n                        </AnimatePresence>\r\n                    </motion.div>\r\n\r\n                    {/* Cart Summary */}\r\n                    <motion.div\r\n                        layout\r\n                        className={cn(\r\n                            \"pt-3 mt-3\",\r\n                            \"border-t border-zinc-200 dark:border-zinc-800\",\r\n                            \"bg-white dark:bg-zinc-900\"\r\n                        )}\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-3\">\r\n                            <span className=\"text-sm font-medium text-zinc-900 dark:text-zinc-100\">\r\n                                Total\r\n                            </span>\r\n                            <motion.span\r\n                                layout\r\n                                className=\"text-sm font-semibold text-zinc-900 dark:text-zinc-100 inline-block min-w-[80px] text-right\"\r\n                            >\r\n                                <NumberFlow\r\n                                    value={totalPrice}\r\n                                    willChange\r\n                                    format={{\r\n                                        style: \"currency\",\r\n                                        currency: \"USD\",\r\n                                        minimumFractionDigits: 2,\r\n                                        maximumFractionDigits: 2,\r\n                                        signDisplay: \"auto\",\r\n                                    }}\r\n                                    className=\"font-mono tabular-nums\"\r\n                                    transformTiming={{\r\n                                        duration: 400,\r\n                                        easing: \"ease-out\",\r\n                                    }}\r\n                                />\r\n                            </motion.span>\r\n                        </div>\r\n                        <Button size=\"sm\" className=\"w-full gap-2\">\r\n                            <CreditCard className=\"w-4 h-4\" />\r\n                            Checkout\r\n                        </Button>\r\n                    </motion.div>\r\n                </motion.div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
      "path": "/components/codesnippetui/checkout-interaction.tsx",
      "target": "/components/codesnippetui/checkout-interaction.tsx"
    }
  ]
}